<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="716" height="608"><defs></defs><g><g transform="translate(6,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 4 0 L 700 0 L 700 588 L 4 588 L 4 0" stroke-miterlimit="10"></path></g><g transform="translate(6,10) scale(1,1)"><path fill="#ffffff" stroke="none" d="M 4 0 L 4 22 L 224 22 L 235 11 L 235 0 L 4 0"></path></g><g transform="translate(6,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 4 0 L 4 22 L 224 22 L 235 11 L 235 0 L 4 0 L 4 0" stroke-miterlimit="10"></path></g><g transform="translate(6,10) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Helvetica" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="75" y="17.5">DeepinID  Authentication</text></g></g><g transform="translate(6,10) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Helvetica" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="9" y="17.5">interaction</text></g></g><g transform="translate(6,10) scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="31" y="47" width="72" height="39" opacity="0.2"></rect></g><g transform="translate(6,10) scale(1,1)"><rect fill="#ffffff" stroke="none" x="24" y="40" width="72" height="39"></rect></g><g transform="translate(6,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 24 40 L 96 40 L 96 79 L 24 79 L 24 40 Z Z" stroke-miterlimit="10"></path></g><g transform="translate(6,10) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="34" y="59.5">用户代理</text></g></g><g transform="translate(6,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 61.5 80 L 61.5 570" stroke-miterlimit="10" stroke-dasharray="3"></path></g><g transform="translate(6,10) scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="259" y="47" width="136" height="39" opacity="0.2"></rect></g><g transform="translate(6,10) scale(1,1)"><rect fill="#ffffff" stroke="none" x="252" y="40" width="136" height="39"></rect></g><g transform="translate(6,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 252 40 L 388 40 L 388 79 L 252 79 L 252 40 Z Z" stroke-miterlimit="10"></path></g><g transform="translate(6,10) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="261.5" y="59.5">认证客户端（应用）</text></g></g><g transform="translate(6,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 321.5 80 L 321.5 570" stroke-miterlimit="10" stroke-dasharray="3"></path></g><g transform="translate(6,10) scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="595" y="47" width="84" height="39" opacity="0.2"></rect></g><g transform="translate(6,10) scale(1,1)"><rect fill="#ffffff" stroke="none" x="588" y="40" width="84" height="39"></rect></g><g transform="translate(6,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 588 40 L 672 40 L 672 79 L 588 79 L 588 40 Z Z" stroke-miterlimit="10"></path></g><g transform="translate(6,10) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="597.5" y="59.5">认证服务器</text></g></g><g transform="translate(6,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 631.5 80 L 631.5 540" stroke-miterlimit="10" stroke-dasharray="3"></path></g><g transform="translate(6,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 61 120 L 314 120" stroke-miterlimit="10"></path></g><g transform="translate(6,10) scale(1,1)"><path fill="#000000" stroke="none" d="M 303.83732514237585 124.20951775601598 L 314 120 L 303.83732514237585 115.79048224398402"></path></g><g transform="translate(6,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 303.83732514237585 124.20951775601598 L 314 120 L 303.83732514237585 115.79048224398402 L 303.83732514237585 124.20951775601598" stroke-miterlimit="10"></path></g><g transform="translate(6,10) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="164" y="117">1 : login</text></g></g><g transform="translate(6,10) scale(1,1)"><rect fill="#ffffff" stroke="none" x="314" y="120" width="13" height="28"></rect></g><g transform="translate(6,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 314 120 L 327 120 L 327 148 L 314 148 L 314 120 Z Z" stroke-miterlimit="10"></path></g><g transform="translate(6,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 314 140 L 61 140" stroke-miterlimit="10" stroke-dasharray="3"></path></g><g transform="translate(6,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 71.16267485762415 135.790482243984 L 61 140 L 71.16267485762415 144.209517756016" stroke-miterlimit="10"></path></g><g transform="translate(6,10) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="99" y="157">2 : 302 redirect  to 认证服务器</text></g></g><g transform="translate(6,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 61 192 L 624 192" stroke-miterlimit="10"></path></g><g transform="translate(6,10) scale(1,1)"><path fill="#000000" stroke="none" d="M 613.8373251423759 196.209517756016 L 624 192 L 613.8373251423758 187.790482243984"></path></g><g transform="translate(6,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 613.8373251423759 196.209517756016 L 624 192 L 613.8373251423758 187.790482243984 L 613.8373251423759 196.209517756016" stroke-miterlimit="10"></path></g><g transform="translate(6,10) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="186" y="185">3 : 302 redirect to 认证服务器，OAuth2 Authorize流程</text></g></g><g transform="translate(6,10) scale(1,1)"><rect fill="#ffffff" stroke="none" x="624" y="192" width="13" height="28"></rect></g><g transform="translate(6,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 624 192 L 637 192 L 637 220 L 624 220 L 624 192 Z Z" stroke-miterlimit="10"></path></g><g transform="translate(6,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 624 217 L 61 217" stroke-miterlimit="10" stroke-dasharray="3"></path></g><g transform="translate(6,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 71.16267485762415 212.790482243984 L 61 217 L 71.16267485762415 221.209517756016" stroke-miterlimit="10"></path></g><g transform="translate(6,10) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="128" y="234">4 : 检查OAuthorize参数， 如果参数错误，跳转回认真客户端错误处理界面</text></g></g><g transform="translate(6,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 61 268 L 624 268" stroke-miterlimit="10"></path></g><g transform="translate(6,10) scale(1,1)"><path fill="#000000" stroke="none" d="M 613.8373251423759 272.209517756016 L 624 268 L 613.8373251423758 263.790482243984"></path></g><g transform="translate(6,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 613.8373251423759 272.209517756016 L 624 268 L 613.8373251423758 263.790482243984 L 613.8373251423759 272.209517756016" stroke-miterlimit="10"></path></g><g transform="translate(6,10) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="241" y="265">5 : POST 登录凭证（用户名密码）</text></g></g><g transform="translate(6,10) scale(1,1)"><rect fill="#ffffff" stroke="none" x="624" y="268" width="13" height="28"></rect></g><g transform="translate(6,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 624 268 L 637 268 L 637 296 L 624 296 L 624 268 Z Z" stroke-miterlimit="10"></path></g><g transform="translate(6,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 624 292 L 61 292" stroke-miterlimit="10" stroke-dasharray="3"></path></g><g transform="translate(6,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 71.16267485762415 287.790482243984 L 61 292 L 71.16267485762415 296.209517756016" stroke-miterlimit="10"></path></g><g transform="translate(6,10) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="207" y="309">6 : 302 redirect to 认证客户端，携带code参数</text></g></g><g transform="translate(6,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 61 344 L 314 344" stroke-miterlimit="10"></path></g><g transform="translate(6,10) scale(1,1)"><path fill="#000000" stroke="none" d="M 303.83732514237585 348.209517756016 L 314 344 L 303.83732514237585 339.790482243984"></path></g><g transform="translate(6,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 303.83732514237585 348.209517756016 L 314 344 L 303.83732514237585 339.790482243984 L 303.83732514237585 348.209517756016" stroke-miterlimit="10"></path></g><g transform="translate(6,10) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="116" y="341">7 : login， 携带code参数</text></g></g><g transform="translate(6,10) scale(1,1)"><rect fill="#ffffff" stroke="none" x="314" y="344" width="13" height="28"></rect></g><g transform="translate(6,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 314 344 L 327 344 L 327 372 L 314 372 L 314 344 Z Z" stroke-miterlimit="10"></path></g><g transform="translate(6,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 321 392 L 624 392" stroke-miterlimit="10"></path></g><g transform="translate(6,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 613.8373251423759 396.209517756016 L 624 392 L 613.8373251423758 387.790482243984" stroke-miterlimit="10"></path></g><g transform="translate(6,10) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="406" y="389">8 : OAuth2 Token 流程</text></g></g><g transform="translate(6,10) scale(1,1)"><rect fill="#ffffff" stroke="none" x="624" y="392" width="13" height="28"></rect></g><g transform="translate(6,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 624 392 L 637 392 L 637 420 L 624 420 L 624 392 Z Z" stroke-miterlimit="10"></path></g><g transform="translate(6,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 624 416 L 321 416" stroke-miterlimit="10" stroke-dasharray="3"></path></g><g transform="translate(6,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 331.16267485762415 411.790482243984 L 321 416 L 331.16267485762415 420.209517756016" stroke-miterlimit="10"></path></g><g transform="translate(6,10) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="420" y="433">9 : Access Token</text></g></g><g transform="translate(6,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 321 448 L 351 448 L 351 468 L 327 468" stroke-miterlimit="10"></path></g><g transform="translate(6,10) scale(1,1)"><path fill="#000000" stroke="none" d="M 337.16267485762415 463.790482243984 L 327 468 L 337.16267485762415 472.209517756016"></path></g><g transform="translate(6,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 337.16267485762415 463.790482243984 L 327 468 L 337.16267485762415 472.209517756016 L 337.16267485762415 463.790482243984" stroke-miterlimit="10"></path></g><g transform="translate(6,10) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="299" y="464">10 : 创建本地session</text></g></g><g transform="translate(6,10) scale(1,1)"><rect fill="#ffffff" stroke="none" x="314" y="468" width="13" height="28"></rect></g><g transform="translate(6,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 314 468 L 327 468 L 327 496 L 314 496 L 314 468 Z Z" stroke-miterlimit="10"></path></g><g transform="translate(6,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 321 512 L 67 512" stroke-miterlimit="10"></path></g><g transform="translate(6,10) scale(1,1)"><path fill="#000000" stroke="none" d="M 77.16267485762415 507.790482243984 L 67 512 L 77.16267485762415 516.209517756016"></path></g><g transform="translate(6,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 77.16267485762415 507.790482243984 L 67 512 L 77.16267485762415 516.209517756016 L 77.16267485762415 507.790482243984" stroke-miterlimit="10"></path></g><g transform="translate(6,10) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="111" y="529">11 : 302 redirect to 请求页面</text></g></g><g transform="translate(6,10) scale(1,1)"><rect fill="#ffffff" stroke="none" x="54" y="512" width="13" height="28"></rect></g><g transform="translate(6,10) scale(1,1)"><path fill="none" stroke="#000000" d="M 54 512 L 67 512 L 67 540 L 54 540 L 54 512 Z Z" stroke-miterlimit="10"></path></g></g></svg>